import{_ as h,r as g,b as u,A as f,s as _,g as m,l as n,h as b,i as k,c as l,w as S,a as o,d,v as y,j as w,t as P,u as R,o as s,e as I,f as T,k as j}from"./index.5809a6a3.js";const x={setup(){const c=R(),t=g({});return t.value.tempo=(t==null?void 0:t.value.tempo)||150,{editable:t,account:u(()=>f.account),playlistId:u(()=>f.playlist.id),async loginToSpotify(){_.login()},convertToTime(e){const a=Math.floor(e),r=Math.round((e-a)*60),v=r<10?`0${r}`:`${r}`;return`${a}'${v}"`},async login(){m.loginWithPopup()},async logout(){m.logout({returnTo:window.location.origin})},async feelingLucky(){try{n.log(t.value,"form Data"),await b.createPlaylist(t.value),n.log(this.playlistId,"playlist id from controller"),c.push({name:"PlaylistPage",params:{playlistId:this.playlistId}})}catch(e){n.error(e),await this.loginToSpotify()}},async submitForm(){try{await this.feelingLucky()}catch(e){e.response&&e.response.status===400?(await this.loginToSpotify(),await this.feelingLucky()):n.error(e)}},async apple(){try{n.log("hi");const e=await k.get("/api/spotify/tracks/country/140");n.log(e)}catch(e){n.error(e)}}}}},p=c=>(I("data-v-fc71c793"),c=c(),T(),c),L={class:"container-fluid"},D={class:"row justify-content-center mt-5"},H={class:"col-10"},M=p(()=>o("label",{for:"playlist-name",class:"form-label createfont"},"Playlist Name",-1)),B={class:"row justify-content-center mt-5"},C={class:"col-10"},z=p(()=>o("label",{for:"genre",class:"form-label createfont"},"Genre",-1)),A=j('<option value="acoustic" data-v-fc71c793>Acoustic</option><option value="alt-rock" data-v-fc71c793>Alt Rock</option><option value="alternative" data-v-fc71c793>Alternative</option><option value="bossanova" data-v-fc71c793>Bossa Nova</option><option value="brazil" data-v-fc71c793>Brazil</option><option value="british" data-v-fc71c793>British</option><option value="chicago-house" data-v-fc71c793>Chicago House</option><option value="children" data-v-fc71c793>Children</option><option value="country" data-v-fc71c793>Country</option><option value="dance" data-v-fc71c793>Dance</option><option value="disco" data-v-fc71c793>Disco</option><option value="disney" data-v-fc71c793>Disney</option><option value="dubstep" data-v-fc71c793>Dubstep</option><option value="edm" data-v-fc71c793>EDM</option><option value="electronic" data-v-fc71c793>Electronic</option><option value="emo" data-v-fc71c793>Emo</option><option value="funk" data-v-fc71c793>Funk</option><option value="gospel" data-v-fc71c793>Gospel</option><option value="happy" data-v-fc71c793>Happy</option><option value="hard-rock" data-v-fc71c793>Hard Rock</option><option value="heavy-metal" data-v-fc71c793>Heavy Metal</option><option value="hip-hop" data-v-fc71c793>Hip-Hop</option><option value="house" data-v-fc71c793>House</option><option value="indian" data-v-fc71c793>Indian</option><option value="indie" data-v-fc71c793>Indie</option><option value="indie-pop" data-v-fc71c793>Indie Pop</option><option value="j-rock" data-v-fc71c793>J-Rock</option><option value="jazz" data-v-fc71c793>Jazz</option><option value="latin" data-v-fc71c793>Latin</option><option value="latino" data-v-fc71c793>Latino</option><option value="metal" data-v-fc71c793>Metal</option><option value="party" data-v-fc71c793>Party</option><option value="pop" data-v-fc71c793>Pop</option><option value="progressive-house" data-v-fc71c793>Progressive House</option><option value="psych-rock" data-v-fc71c793>Psych Rock</option><option value="punk" data-v-fc71c793>Punk</option><option value="punk-rock" data-v-fc71c793>Punk Rock</option><option value="r-n-b" data-v-fc71c793>R&amp;B</option><option value="reggae" data-v-fc71c793>Reggae</option><option value="reggaeton" data-v-fc71c793>Reggaeton</option><option value="rock" data-v-fc71c793>Rock</option><option value="rock-n-roll" data-v-fc71c793>Rock &#39;n&#39; Roll</option><option value="rockabilly" data-v-fc71c793>Rockabilly</option><option value="romance" data-v-fc71c793>Romance</option><option value="salsa" data-v-fc71c793>Salsa</option><option value="samba" data-v-fc71c793>Samba</option><option value="ska" data-v-fc71c793>Ska</option><option value="soul" data-v-fc71c793>Soul</option><option value="spanish" data-v-fc71c793>Spanish</option><option value="summer" data-v-fc71c793>Summer</option><option value="synth-pop" data-v-fc71c793>Synth Pop</option><option value="techno" data-v-fc71c793>Techno</option><option value="work-out" data-v-fc71c793>Workout</option>',53),F=[A],N={class:"row justify-content-center mt-5"},V={class:"col-10"},E={key:0,for:"pace",class:"form-label createfont2"},U={key:1,for:"pace",class:"form-label"},G=p(()=>o("datalist",{id:"values"},[o("option",{label:"15",class:"createfont2"},"15"),o("option",{label:"10",class:"createfont2"},"10"),o("option",{label:"5",class:"createfont2"},"5")],-1)),J=p(()=>o("div",{class:"row justify-content-center mt-5"},[o("div",{class:"col-10 d-flex"},[o("button",{class:"btn btn-outline-light btn-lg fs-3 fw-semibold"},"Feeling Lucky")])],-1)),W={key:1,class:"row justify-content-center"},q={class:"col-10 col-md-4 m-4"},K=p(()=>o("h3",null," Login and Link account to Spotify to Create New playlists ",-1)),O={class:"d-flex justify-content-center"},Q={class:"btn btn-light m-3"};function X(c,t,e,a,r,v){return s(),l("div",L,[a.account.id?(s(),l("form",{key:0,onSubmit:t[3]||(t[3]=S((...i)=>a.submitForm&&a.submitForm(...i),["prevent"]))},[o("div",D,[o("div",H,[M,d(o("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>a.editable.name=i),type:"text",class:"form-control",name:"playlist-name",id:"playlist-name",placeholder:"Name your Playlist"},null,512),[[y,a.editable.name]])])]),o("div",B,[o("div",C,[z,d(o("select",{"onUpdate:modelValue":t[1]||(t[1]=i=>a.editable.genre=i),class:"form-select",id:"genre",name:"genre"},F,512),[[w,a.editable.genre]])])]),o("div",N,[o("div",V,[a.editable.tempo?(s(),l("label",E,"Pace: "+P(a.convertToTime((a.editable.tempo-250)/-10))+"/mile ",1)):(s(),l("label",U,`Pace: 10'00" /mile`)),o("div",null,[d(o("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>a.editable.tempo=i),type:"range",class:"pace-range",min:"100",max:"200",step:"5",list:"values"},null,512),[[y,a.editable.tempo]]),G])])]),J],32)):(s(),l("div",W,[o("div",q,[K,o("div",O,[o("button",Q,[o("h3",{onClick:t[4]||(t[4]=(...i)=>a.login&&a.login(...i))}," Login here ")])])])]))])}const Z=h(x,[["render",X],["__scopeId","data-v-fc71c793"]]);export{Z as default};
